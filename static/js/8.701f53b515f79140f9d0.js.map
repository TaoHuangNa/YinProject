{"version":3,"sources":["webpack:///./node_modules/vant/es/pull-refresh/index.js","webpack:///src/views/home/news/news.vue","webpack:///./src/views/home/news/news.vue?130c","webpack:///./src/views/home/news/news.vue"],"names":["_createNamespace","Object","utils","createComponent","bem","t","TEXT_STATUS","es_pull_refresh","mixins","touch","props","disabled","Boolean","successText","String","pullingText","loosingText","loadingText","value","type","required","successDuration","Number","default","animationDuration","headHeight","data","status","distance","duration","computed","touchable","this","headStyle","height","watch","loading","setStatus","slots","showSuccessTip","mounted","bindTouchEvent","$refs","track","scrollEl","dom_scroll","$el","methods","checkPullStart","event","ceiling","touchStart","onTouchStart","onTouchMove","touchMove","deltaY","direction","dom_event","ease","onTouchEnd","_this","$emit","$nextTick","Math","round","isLoading","genStatus","h","$createElement","slot","nodes","text","indexOf","push","class","es_loading","attrs","size","_this2","setTimeout","render","arguments","trackStyle","transitionDuration","transform","ref","style","news","name","order","list","finished","page","limit","toDetail","val","$router","params","id","onRefresh","count","onLoad","pageSize","loginapi","then","res","concat","toConsumableArray_default","results","next","components","_components","defineProperty_default","row","col","news_news","_vm","_h","_c","_self","staticStyle","overflow","margin-top","success-text","on","refresh","model","callback","$$v","expression","finished-text","load","_l","item","i","key","margin","click","$event","new_id","font-size","font-weight","title","new_title","isLink","_v","padding","margin-left","_s","new_content","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/8.701f53b515f79140f9d0.js","sourcesContent":["// Utils\nimport { createNamespace } from '../utils';\nimport { preventDefault } from '../utils/dom/event';\nimport { getScrollTop, getScroller } from '../utils/dom/scroll'; // Mixins\n\nimport { TouchMixin } from '../mixins/touch'; // Components\n\nimport Loading from '../loading';\n\nvar _createNamespace = createNamespace('pull-refresh'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1],\n    t = _createNamespace[2];\n\nvar DEFAULT_HEAD_HEIGHT = 50;\nvar TEXT_STATUS = ['pulling', 'loosing', 'success'];\nexport default createComponent({\n  mixins: [TouchMixin],\n  props: {\n    disabled: Boolean,\n    successText: String,\n    pullingText: String,\n    loosingText: String,\n    loadingText: String,\n    value: {\n      type: Boolean,\n      required: true\n    },\n    successDuration: {\n      type: [Number, String],\n      default: 500\n    },\n    animationDuration: {\n      type: [Number, String],\n      default: 300\n    },\n    headHeight: {\n      type: [Number, String],\n      default: DEFAULT_HEAD_HEIGHT\n    }\n  },\n  data: function data() {\n    return {\n      status: 'normal',\n      distance: 0,\n      duration: 0\n    };\n  },\n  computed: {\n    touchable: function touchable() {\n      return this.status !== 'loading' && this.status !== 'success' && !this.disabled;\n    },\n    headStyle: function headStyle() {\n      if (this.headHeight !== DEFAULT_HEAD_HEIGHT) {\n        return {\n          height: this.headHeight + \"px\"\n        };\n      }\n    }\n  },\n  watch: {\n    value: function value(loading) {\n      this.duration = this.animationDuration;\n\n      if (loading) {\n        this.setStatus(+this.headHeight, true);\n      } else if (this.slots('success') || this.successText) {\n        this.showSuccessTip();\n      } else {\n        this.setStatus(0, false);\n      }\n    }\n  },\n  mounted: function mounted() {\n    this.bindTouchEvent(this.$refs.track);\n    this.scrollEl = getScroller(this.$el);\n  },\n  methods: {\n    checkPullStart: function checkPullStart(event) {\n      this.ceiling = getScrollTop(this.scrollEl) === 0;\n\n      if (this.ceiling) {\n        this.duration = 0;\n        this.touchStart(event);\n      }\n    },\n    onTouchStart: function onTouchStart(event) {\n      if (this.touchable) {\n        this.checkPullStart(event);\n      }\n    },\n    onTouchMove: function onTouchMove(event) {\n      if (!this.touchable) {\n        return;\n      }\n\n      if (!this.ceiling) {\n        this.checkPullStart(event);\n      }\n\n      this.touchMove(event);\n\n      if (this.ceiling && this.deltaY >= 0 && this.direction === 'vertical') {\n        preventDefault(event);\n        this.setStatus(this.ease(this.deltaY));\n      }\n    },\n    onTouchEnd: function onTouchEnd() {\n      var _this = this;\n\n      if (this.touchable && this.ceiling && this.deltaY) {\n        this.duration = this.animationDuration;\n\n        if (this.status === 'loosing') {\n          this.setStatus(+this.headHeight, true);\n          this.$emit('input', true); // ensure value change can be watched\n\n          this.$nextTick(function () {\n            _this.$emit('refresh');\n          });\n        } else {\n          this.setStatus(0);\n        }\n      }\n    },\n    ease: function ease(distance) {\n      var headHeight = +this.headHeight;\n\n      if (distance > headHeight) {\n        if (distance < headHeight * 2) {\n          distance = headHeight + (distance - headHeight) / 2;\n        } else {\n          distance = headHeight * 1.5 + (distance - headHeight * 2) / 4;\n        }\n      }\n\n      return Math.round(distance);\n    },\n    setStatus: function setStatus(distance, isLoading) {\n      var status;\n\n      if (isLoading) {\n        status = 'loading';\n      } else if (distance === 0) {\n        status = 'normal';\n      } else {\n        status = distance < this.headHeight ? 'pulling' : 'loosing';\n      }\n\n      this.distance = distance;\n\n      if (status !== this.status) {\n        this.status = status;\n      }\n    },\n    genStatus: function genStatus() {\n      var h = this.$createElement;\n      var status = this.status,\n          distance = this.distance;\n      var slot = this.slots(status, {\n        distance: distance\n      });\n\n      if (slot) {\n        return slot;\n      }\n\n      var nodes = [];\n      var text = this[status + \"Text\"] || t(status);\n\n      if (TEXT_STATUS.indexOf(status) !== -1) {\n        nodes.push(h(\"div\", {\n          \"class\": bem('text')\n        }, [text]));\n      }\n\n      if (status === 'loading') {\n        nodes.push(h(Loading, {\n          \"attrs\": {\n            \"size\": \"16\"\n          }\n        }, [text]));\n      }\n\n      return nodes;\n    },\n    showSuccessTip: function showSuccessTip() {\n      var _this2 = this;\n\n      this.status = 'success';\n      setTimeout(function () {\n        _this2.setStatus(0);\n      }, this.successDuration);\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var trackStyle = {\n      transitionDuration: this.duration + \"ms\",\n      transform: this.distance ? \"translate3d(0,\" + this.distance + \"px, 0)\" : ''\n    };\n    return h(\"div\", {\n      \"class\": bem()\n    }, [h(\"div\", {\n      \"ref\": \"track\",\n      \"class\": bem('track'),\n      \"style\": trackStyle\n    }, [h(\"div\", {\n      \"class\": bem('head'),\n      \"style\": this.headStyle\n    }, [this.genStatus()]), this.slots()])]);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vant/es/pull-refresh/index.js\n// module id = null\n// module chunks = ","<template>\n  <van-pull-refresh\n    style=\"overflow: auto; margin-top: 44px;\"\n    success-text=\"刷新成功\"\n    v-model=\"isLoading\"\n    @refresh=\"onRefresh\">\n    <van-list\n      v-model=\"loading\"\n      :finished=\"finished\"\n      finished-text=\"没有更多了\"\n      @load=\"onLoad\">\n     <van-cell-group v-for=\"(item, i) in list\" :key=\"i\" style=\"margin: 5px;\"  @click=\"toDetail(item.new_id)\">\n        <van-cell :title=\"item.new_title\" style=\"font-size: 20px;font-weight: 700;\" isLink>\n        </van-cell>\n        <div style=\"font-size: 12px;font-weight: 100;padding: 10px;margin-left: 5px;\">&emsp;&emsp;{{ item.new_content }}</div>\n      </van-cell-group>\n    </van-list>\n  </van-pull-refresh>\n</template>\n\n<script>\nimport { Row, Col, PullRefresh, List } from 'vant'\nimport { getNews } from '@/api/loginapi'\nexport default {\n    name: 'news',\n    data () {\n    return {\n      order: [],\n      isLoading: false,\n      list: [],\n      loading: false,\n      finished: false,\n      page: 0,\n      limit: 10\n    }\n  },\n  methods: {\n    toDetail (val) {\n      this.$router.push({ name: 'newsDetail', params: { id: val } })\n    },\n    onRefresh () {\n      setTimeout(() => {\n        this.isLoading = false\n        this.count++\n      }, 1000)\n    },\n    onLoad () {\n      this.page++\n      let data = {\n        page: this.page,\n        pageSize: this.limit\n      }\n      getNews(data).then(res => {\n        // if (this.taskList.length === 0) {\n        //   this.taskList = res.data.results\n        // } else {\n        //   this.taskList.push(res.data.results)\n        // }\n        // this.taskList.push(res.data.results)\n        // this.taskList = JSON.parse(JSON.stringify(this.taskList))\n        this.list = [...this.list, ...res.data.results]\n        this.loading = false\n        if (res.data.next === null) {\n          this.finished = true\n        } else {\n          this.finished = false\n        }\n      })\n    }\n  },\n    components: {\n    [Row.name]: Row,\n    [Col.name]: Col,\n    [PullRefresh.name]: PullRefresh,\n    [List.name]: List\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\n  @import '../../../assets/scss/mixin';\n  .order_status {\n    background-color: #fff;\n    text-align: center;\n    padding: 10px 0;\n    font-size: 12px;\n\n    > div {\n      @include one-border;\n      &::after {\n        top: 50%;\n        left: 50%;\n        border-bottom: 0;\n        border-right: 1px solid gray;\n        height: 150%;\n        transform: scale(0.5) translate3d(-50%, -50%, 0);\n        transform-origin: 0 0;\n      }\n      &:last-child::after {\n        border: 0;\n      }\n    }\n\n    .order_status_icon {\n      position: relative;\n      width: 36px;\n      height: 36px;\n      border-radius: 50%;\n      display: inline-block;\n      i {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate3d(-50%, -50%, 0);\n        font-size: 24px;\n        color: #000;\n      }\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/home/news/news.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('van-pull-refresh',{staticStyle:{\"overflow\":\"auto\",\"margin-top\":\"44px\"},attrs:{\"success-text\":\"刷新成功\"},on:{\"refresh\":_vm.onRefresh},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\"},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.list),function(item,i){return _c('van-cell-group',{key:i,staticStyle:{\"margin\":\"5px\"},on:{\"click\":function($event){return _vm.toDetail(item.new_id)}}},[_c('van-cell',{staticStyle:{\"font-size\":\"20px\",\"font-weight\":\"700\"},attrs:{\"title\":item.new_title,\"isLink\":\"\"}}),_vm._v(\" \"),_c('div',{staticStyle:{\"font-size\":\"12px\",\"font-weight\":\"100\",\"padding\":\"10px\",\"margin-left\":\"5px\"}},[_vm._v(\"  \"+_vm._s(item.new_content))])],1)}),1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1bb3f890\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/home/news/news.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1bb3f890\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./news.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./news.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./news.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1bb3f890\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./news.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1bb3f890\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/home/news/news.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}